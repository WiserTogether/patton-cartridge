#!/bin/bash -e

# install python precompiled packages
if [ -d "$OPENSHIFT_PYTHON_DIR/usr/python_packages/" ]
then
    for i in $OPENSHIFT_PYTHON_DIR/usr/python_packages/*.egg
    do
      if [ -r "$i" ]
      then
        ${VE_ROOT}bin/easy_install $i
      fi
    done 
    unset i
fi

# install system rpms to $OPENSHIFT_PATTON_DIR/usr/local
function install_rpm() {
    pushd .
    cd ${OPENSHIFT_PATTON_DIR}
    curl $1 | rpm2cpio | cpio -idmv
    popd
}

install_rpm "https://kojipkgs.fedoraproject.org/packages/xmlsec1/1.2.19/3.el6/x86_64/xmlsec1-1.2.19-3.el6.x86_64.rpm"
install_rpm "https://kojipkgs.fedoraproject.org/packages/xmlsec1/1.2.19/3.el6/x86_64/xmlsec1-devel-1.2.19-3.el6.x86_64.rpm"
install_rpm "https://kojipkgs.fedoraproject.org/packages/xmlsec1/1.2.19/3.el6/x86_64/xmlsec1-gcrypt-1.2.19-3.el6.x86_64.rpm"
install_rpm "https://kojipkgs.fedoraproject.org/packages/xmlsec1/1.2.19/3.el6/x86_64/xmlsec1-gcrypt-devel-1.2.19-3.el6.x86_64.rpm"
install_rpm "https://kojipkgs.fedoraproject.org/packages/xmlsec1/1.2.19/3.el6/x86_64/xmlsec1-gnutls-1.2.19-3.el6.x86_64.rpm"
install_rpm "https://kojipkgs.fedoraproject.org/packages/xmlsec1/1.2.19/3.el6/x86_64/xmlsec1-gnutls-devel-1.2.19-3.el6.x86_64.rpm"
install_rpm "https://kojipkgs.fedoraproject.org/packages/xmlsec1/1.2.19/3.el6/x86_64/xmlsec1-nss-1.2.19-3.el6.x86_64.rpm"
install_rpm "https://kojipkgs.fedoraproject.org/packages/xmlsec1/1.2.19/3.el6/x86_64/xmlsec1-nss-devel-1.2.19-3.el6.x86_64.rpm"
install_rpm "https://kojipkgs.fedoraproject.org/packages/xmlsec1/1.2.19/3.el6/x86_64/xmlsec1-openssl-1.2.19-3.el6.x86_64.rpm"
install_rpm "https://kojipkgs.fedoraproject.org/packages/xmlsec1/1.2.19/3.el6/x86_64/xmlsec1-openssl-devel-1.2.19-3.el6.x86_64.rpm"
